function handleUpload() {
  const files = fileInput.files;
  if(files.length === 0) {
    alert('Bạn chưa chọn file để upload!');
    return;
  }
  for(let file of files) {
    const url = URL.createObjectURL(file);
    let element;
    if(file.type.startsWith('image/')) {
      element = document.createElement('img');
      element.src = url;
      element.alt = file.name;
    } else if(file.type.startsWith('video/')) {
      element = document.createElement('video');
      element.controls = true;
      const source = document.createElement('source');
      source.src = url;
      source.type = file.type;
      element.appendChild(source);
    } else {
      alert('Chỉ hỗ trợ upload ảnh và video thôi nhé!');
      continue;
    }
    element.style.maxWidth = '260px';
    element.style.maxHeight = '180px';
    element.style.borderRadius = '20px';
    element.style.boxShadow = '0 0 20px #ff4da6aa';
    element.style.objectFit = 'cover';

    // Tạo div bao bọc element và nút xóa
    const mediaDiv = document.createElement('div');
    mediaDiv.className = 'media-item';
    mediaDiv.appendChild(element);

    const delBtn = document.createElement('button');
    delBtn.className = 'delete-btn';
    delBtn.textContent = '❌';
    delBtn.onclick = function() {
      mediaDiv.remove();
    };

    mediaDiv.appendChild(delBtn);
    gallery.appendChild(mediaDiv);
  }
  fileInput.value = ''; // reset input
}
